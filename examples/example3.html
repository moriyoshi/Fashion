<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>Fashion example 3</title>
    <script type="text/javascript" src="../fashion.js"></script>
    <script type="text/javascript">
      function last(items) {
      return items[items.length - 1];
      }
    </script>
  </head>
  <body>
    <div class="page">
      <h1>zoom scroll</h1>
      <div></div>
      <script type="text/javascript">
        var node = last(document.getElementsByTagName('div'));
        var drawable = new Fashion.Drawable(
          node,
          {content: {width: 512, height: 512},
           viewport: {width: 256, height: 256}});

        var circle = new Fashion.Circle(64, 64, 128, 128);
        var circle2 = new Fashion.Circle(384, 384, 128, 128);
        circle.style({fill: new Fashion.FloodFill(new Fashion.Color("#000"))});
        circle2.style({fill: new Fashion.FloodFill(new Fashion.Color("#000"))});
        drawable.draw(circle);
        drawable.draw(circle2);
        drawable.scrollPosition({x: 1000, y: 1000});

        var zoom = 1.0;
        drawable.addEvent({
          mousemove: function(evt) {
            console.log(JSON.stringify(evt.contentPosition));
          },
          mousedown: function(evt) {
           if (evt.left) {
             zoom *= 1.2;
             console.log(evt.contentPosition);
             drawable.zoom(zoom, evt.contentPosition);
           } else if (evt.right) {
             zoom /= 1.2;
             drawable.zoom(zoom, evt.contentPosition);
           }
          }
        });

      </script>
    </div>
  </body>
</html>

