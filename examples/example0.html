<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <script type="text/javascript" src="../fashion.js" charset="utf-8"></script>
    <style> table.te td { border: 1px solid black; } </style>
  </head>
  <body>
    <div class="page">
      <div style="float:left; margin:5px; padding:0">
        <h1>TEST</h1>
        <div id="STAGE" class="canvas" style="width:600px; height:450px; overflow:scroll; border: 1px solid #000;">
        </div>
      </div>
    </div>
    <script type="text/javascript">
(function() {
  var c = document.getElementById('STAGE');
  var drawable = new Fashion.Drawable(c, { width: 1000, height: 1000 });

  var p1 = drawable.draw(
    new Fashion.Path(
      new Fashion.PathData('M 0 50 L 0 0 50 0')));

  var p2 = drawable.draw(
    new Fashion.Path(
      new Fashion.PathData('M 0 50 L 0 0 50 0')));

  var p3 = drawable.draw(
    new Fashion.Path(
      new Fashion.PathData('M 0 50 L 0 0 50 0')));

  p2.transform({translate: {x: 50, y: 90}}, {rotate: {angle: -45}});
  p3.transform({translate: {x: 50, y: 90}}, {rotate: {angle: -45}}, {translate: {x: 130, y: 160}});

  p2.style({
    fill: null,
    stroke: {
      width: 10,
      color: new Fashion.Color('#FF0000FF')
    }
  });

  p3.style({
    fill: null,
    stroke: {
      width: 4,
      color: new Fashion.Color(0, 255, 0, 255)
    }
  });


  drawable.erase(p1);

  var stylize = function(n) {
    n.style({
      fill: new Fashion.FloodFill(new Fashion.Color(
          (Math.random() * 255).toFixed(0),
          (Math.random() * 255).toFixed(0),
          (Math.random() * 255).toFixed(0),
          (Math.random() * 255).toFixed(0))),
      stroke: new Fashion.Stroke(
          new Fashion.Color(
            (Math.random()*255).toFixed(0),
            (Math.random()*255).toFixed(0),
            (Math.random()*255).toFixed(0),
            (Math.random()*255).toFixed(0)),
          2)
    });
  };


  for(var i=0,l=100; i<l; i++) {

    var f = drawable.draw(
      new Fashion.Text(
        Math.random()*1000, Math.random()*1000, Math.random()*100, 'Shin Aoyama'));
    stylize(f);

    var p = drawable.draw(
      new Fashion.Path(
        new Fashion.PathData(
          'M 0 -10 L 5.88 8.09 -9.51 -3.09 9.51 -3.09 -5.88 8.09 Z')));
    p.position({x: Math.random()*1000, y: Math.random()*1000});
    p.size({width: Math.random()*300, height: Math.random()*300});
    stylize(p);

    var c = drawable.draw(
      new Fashion.Circle(Math.random()*1000, Math.random()*1000, 30, 30));
    stylize(c);


    var r = drawable.draw(
      new Fashion.Rect(Math.random()*1000, Math.random()*1000, 50, 50));
    stylize(r);

  }
})();
    </script>
  </body>
</html>
